# 🌐 인터넷 네트워크 기초

## 1. 인터넷 통신

### 인터넷이란?

- **전 세계적으로 연결된 컴퓨터 네트워크의 네트워크**
- 클라이언트와 서버가 수많은 중간 노드(라우터, 스위치 등)을 거쳐 통신한다
- 복잡한 인터넷 망을 통해 안전하게 데이터를 전달하는 것이 중요하다.

**통신 과정**

1. 클라이언트가 메시지를 전송한다
2. 여러 인터넷 서버(노드)를 경유한다.
3. 목적지 서버에 도착한다
4. 서버가 응답을 동일한 방식으로 전송한다.

---

## 2. IP(Internet Protocol)

### IP의 역할

- 인터넷 상에서 데이터를 주고 받기 위한 규칙
- 지정한 IP 주소 (IP Address)에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터를 전달한다.

### IP 주소

- 네트워크 상에서 컴퓨터를 식별하는 고유한 주소
- IPv4: 192.168.0.1 (32비트, 약 43억개)
- IPv6: 2001:0db:xxx(128비트, 무한대)

IP 패킷

```js
[IP 패킷 구조]
┌─────────────────────────┐
│  출발지 IP: 100.100.100.1  │
│  목적지 IP: 200.200.200.2  │
│─────────────────────────│
│  전송 데이터: "Hello!"      │
└─────────────────────────┘
```

### IP 프로토콜의 한계

1. 비연결성(Connectionless)
   - 패킷으 받을 대상이 없거나 서비스 불능 상태여도 패킷을 전송한다.
   - 대상 서버가 꺼져있어도 클라이언트는 알 수 없다.
2. 비 신뢰성(Unreliable)
   - 패킷이 중간에 소실될 수 있다
     - 중간 노드가 다운되면 패킷 손실
   - 패킷 순서가 보장되지 않는다
     - 패킷이 다른 경로로 전성되고 순서가 바뀔 수 있다.
     - ex: "Hello"->"elloH"
3. 프로그램 구분 불가
   - 같은 IP를 사용하는 여러 애플리케이션을 구분할 수 없다.
   - 같은 컴퓨터에서 게임, 음악 재생을 동시에 하는 경우?

---

## 3. TCP (Transmission Control Protocol)

**인터넷 프로포토콜 스택의 4계층**

```js
┌──────────────────────────┐
│  애플리케이션 계층          │  ← HTTP, FTP
├──────────────────────────┤
│  전송 계층                 │  ← TCP, UDP
├──────────────────────────┤
│  인터넷 계층               │  ← IP
├──────────────────────────┤
│  네트워크 인터페이스 계층   │  ← LAN, 이더넷
└──────────────────────────┘
```

### 프로토콜 계층별 역할

1. 애플리케이션 계층: 프로그램이 HTTP 메시지를 생성한다.
2. 전송 계층(TCP): TCP 정보로 HTTP 메시지를 감싸서 TCP 세그먼트를 생성한다.
3. 인터넷 계층(IP): IP 패킷 생성 (출발지 / 목적지 IP 정보를 추가)
4. 네트워크 인터페이스: 물리적 네트워크를 통해 전송 (이더넷 프레임)

### TCP/IP 패킷 구조

```js
[IP 패킷]
┌────────────────────────────────┐
│  출발지 IP, 목적지 IP 등...       │
│ ┌────────────────────────────┐ │
│ │  [TCP 세그먼트]              │ │
│ │  출발지 PORT, 목적지 PORT    │ │
│ │  전송 제어, 순서, 검증 정보   │ │
│ │ ┌────────────────────────┐ │ │
│ │ │  전송 데이터             │ │ │
│ │ └────────────────────────┘ │ │
│ └────────────────────────────┘ │
└────────────────────────────────┘
```

### TCP 특징

1. 연결지향 - TCP3 - way handshake (가상 연결)

```js
클라이언트                    서버
    │                          │
    │  1. SYN (접속 요청)      │
    │─────────────────────────>│
    │                          │
    │  2. SYN + ACK (요청 수락) │
    │<─────────────────────────│
    │                          │
    │  3. ACK (확인)           │
    │─────────────────────────>│
    │                          │
    │  4. 데이터 전송 시작      │
```

- 개념적 연결: 물리적 연결이 아닌 논리적 연결
- 연결 후 데이터 전송을 시작

2. 데이터 전달 보증

- 패킷이 누락되고 클라이언트가 알 수 있다.

```js
클라이언트               서버
    │  데이터 전송        │
    │───────────────────>│
    │                    │
    │  데이터 잘 받음     │
    │<───────────────────│
```

3. 순서 보장

```js
클라이언트                     서버
    │  패킷1, 패킷2, 패킷3      │
    │────────────────────────>│
    │                          │
    │  패킷1, 패킷3, 패킷2 도착 │ (순서 틀림!)
    │                          │
    │  패킷2부터 다시 보내세요   │
    │<─────────────────────────│
```

4. 신뢰성

- 신뢰할 수 있는 프로포토콜
- 대부분 TCP 사용

---

## 4. UDP (User Datagram Protocol)

### UDP 특징
