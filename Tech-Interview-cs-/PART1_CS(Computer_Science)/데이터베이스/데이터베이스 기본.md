## 1. 데이터베이스 기본 개념과 배경

### 📌 왜 데이터베이스가 필요한가?

- 데이터베이스가 없으면 데이터를 **파일 시스템**에 저장해야 한다.

#### 📁 예시: `users.txt`

```pgsql
파일 시스템의 문제점:
📁 users.txt
   - John,25,john@email.com
   - Sarah,30,sarah@email.com

문제:
1. 데이터 중복 (Data Redundancy)
2. 데이터 불일치 (Data Inconsistency)
3. 동시 접근 문제 (Concurrency Issues)
4. 보안 문제 (Security Issues)
5. 데이터 복구 어려움 (Recovery Difficulty)
```

---

## 2. DBMS(Database Management System)의 핵심 기능

### 2.1 ACID 특성 보장

- **Atomicity (원자성)** : 트랜잭션의 모든 작업이 성공하거나 모두 실패한다.
- **Consistency (일관성)** : 데이터베이스가 항상 일관된 상태를 유지한다.
- **Isolation (격리성)** : 동시 실행되는 트랜잭션이 서로 영향을 주지 않는다.
- **Durability (지속성)** : 완료된 트랜잭션 결과는 영구 보존한다.

---

### 2.2 동시성 제어

```sql
-- 사용자 A와 B가 동시에 같은 계좌에서 출금하는 경우
-- 데이터베이스가 락을 통해 동시성 문제를 해결한다.

-- 사용자 A의 트랜잭션
BEGIN TRANSACTION;
SELECT balance FROM accounts WHERE id = 1; -- balance: 1000
UPDATE accounts SET balance = balance - 500 WHERE id = 1;
COMMIT;

-- 사용자 B의 트랜잭션 (동시에 실행이지만 대기)
BEGIN TRANSACTION;
SELECT balance FROM accounts WHERE id = 1; -- 사용자 A 완료 후 실행한다
UPDATE accounts SET balance = balance - 300 WHERE id = 1;
COMMIT;
```

---

## 3. 관계형 데이터베이스의 핵심 개념

### 3.1 테이블, 행, 열의 관계

```sql

--users 테이블 예시
CREATE TABLE users (
   id INT PRIMARY KEY AUTO_INCREMENT,
   name VARCHAR(100) NOT NULL,
   email VARCHAR(255) UNIQUE NOT NULL,
   age INT,
   created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

테이블 구조 예시

```hraphql
┌────┬──────────┬─────────────────────┬─────┬─────────────────────┐
│ id │   name   │       email         │ age │     created_at      │
├────┼──────────┼─────────────────────┼─────┼─────────────────────┤
│ 1  │ John Doe │ john@example.com    │ 25  │ 2024-01-01 10:00:00 │
│ 2  │ Sarah    │ sarah@example.com   │ 30  │ 2024-01-02 11:00:00 │
│ 3  │ Mike     │ mike@example.com    │ 28  │ 2024-01-03 09:30:00 │
└────┴──────────┴─────────────────────┴─────┴─────────────────────┘

```
