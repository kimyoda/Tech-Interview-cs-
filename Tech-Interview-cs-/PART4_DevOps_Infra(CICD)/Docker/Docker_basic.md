# 🐳 Docker 기본 개념(내용 추가)

## 1. Docker 기본 개념

- Docker는 애플리케이션을 \*\*컨테이너(Container)라는 가벼운 실행 환경으로 패키징하고 배포하는 플랫폼이다. 컨테이너는 동일한 OS 커널을 공유하고 프로세스와 파일 시스템을 격리해 가상머신보다 빠르게 시작되고 자원을 적게 사용한다.
- Docker의 주요 개념, 구성 요소를 정리, 가상 머신과 차이, 네트워킹, 데이터 관리, Docker Compose 등을 소개한다.

### 1-1.Docker란 무엇인가

- Docker는 **컨테이너 기반 가상화 플랫폼**이다. 컨테이너는 애플리케이션과 필요한 의존성을 묶어 하나의 이미지로 패키징 한 뒤, 호스트 OS 커널을 공유하고 격리된 프로세스로 실행된다.
- 애플리케이션과 환경을 동일하게 배포할 수 있어 개발-운영 환경의 불일치를 줄이고, 빠른 배포와 확장성을 제공한다. 컨테이너는 가상머신보다 리소스를 적게 사용하고 DevOps를 촉진한다.

#### 1.1 컨테이너 vs. 가상머신

| 구분        | 가상머신                           | 컨테이너                                |
| ----------- | ---------------------------------- | --------------------------------------- |
| 가상화 방식 | 하이퍼바이저 위에서 전체 OS를 실행 | 호스트 OS 커널을 공유하는 프로세스 격리 |
| 리소스 사용 | GB 단위 메모리 필요                | MB 단위 메모리 필요로 경량화            |
| 시작 속도   | OS 부팅 필요 → 느림                | 프로세스 수준 → 빠름                    |
| 격리 수준   | 하드웨어 레벨 가상화               | OS 레벨 가상화                          |

- 가상머신은 하이퍼바이저 위에 게스트 OS를 포함하여 무겁고 느린 반면, 컨테이너는 **Linux namespace**와 **cgroups**를 통해 격리와 자원 제한을 구현한다.
- 컨테이너는 더 많은 인스턴스를 효율적으로 운영할 수 있고, 이미지 기반 배포로 운영 환경과 개발 환경을 일치시킨다.

---

## 2. Docker 구성 요소

### 2-1. Docker Engine

- Docker의 핵심 실행 엔진이다. dockerd 데몬과 docker CLI로 구성되어 컨테이너 생성, 실행, 관리 작업을 담당한다. 데몬은 백그라운드에서 API 요청을 처리, CLI는 사용자와 데몬 사이의 인터페이스 역할을 한다.

### 2-2. 이미지(Image)

- 컨테이너 실행에 필요한 코드, 라이브러리, 설정 등을 포함한 읽기 전용 템플릿이다.
- 이미지는 여러 개의 **레이어(Layer)**로 구성되고, 각 레이어는 부모 레이어위에 겹치는 방식으로 저장된다.
- 이미지에서 컨테이너를 실행할 때 이미지 레이어 위에 **쓰기 가능한 컨테이너 레이어**가 생성, 이 레이어는 컨테이너가 삭제되면 함께 사라진다.

- 중복제거: 동일한 레이어는 여러 이미지에서 공유돼 저장 공간을 절약한다.
- 빠른 빌드: 변경된 레이어만 다시 빌드하여 이미지 빌드 및 다운로드 속도가 빨라진다.
- 캐싱: 레이어 캐시를 활용해 지속적인 통합/배포/(CI/CD)에서 시간을 줄일 수 있다.

### 2.3 컨테이너(Container)

- 이미지를 실행할 인스턴스다. 컨테이너는 격리된 프로세스와 파일 시스템을 가지고, 생성, 시작, 중지, 삭제가 가능하다.
- 컨테이너의 수명은 이미지와 독립적이고, 컨테이너를 삭제해도 이미지는 그대로 유지된다.

### 2.4 Dockerfile

- 이미지를 빌드하기 위한 명령어 스크립트이다.
- 선언적 방식으로 베이스 이미지, 패키지 설치, 환경 변수 설정 등을 정의
- `docker build` 명령으로 재현 가능한 빌드를 수행한다.
- Git과 같은 버전 관리 시스템에 Dockerfile을 관리하고 환경 변경을 추적할 수 있다.
