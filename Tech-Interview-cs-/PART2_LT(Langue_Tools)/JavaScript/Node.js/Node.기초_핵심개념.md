# 🌐 Node.js 기초 및 핵심 개념

## 1. Node.js 기초와 핵심 개념
- JavaScript는 원래 웹 브라우저 안에서만 실행되던 언어였다. Google이 브라우저의 JavaScript 엔진 V8을 공개하면서 달라졌다. V8 엔진을 브라우저 밖으로 가져와 서버나 데스크톱에서 실행할 수 있도록 만든 런타임이 바로 Node.js다.
 

### 1-1. 🎯 Node.js란 무엇인가?
**Node.js는 언어가 아니라 JavaScript를 실행하는 런타임 환경**이다. 
- Node.js 소개에 따르면 오픈 소스이면서 크로스 플랫폼인 JavaScript 런타임, 개발자가 서버, 웹 애플리케이션, 명령행 동구 등을 만들 수 있게 해준다.
- Node.js는 V8 JavaScript 엔진을 브라우저 밖으로 가져와 자바스크립트를 고성능으로 실행, 파일 시스템 접근, 네트워크 통신 등 브라우저에 제공하지 않는 기능을 제공한다.

### 1-2. 런타임 환경이냐 프로그래밍 언어이냐?

- JavaScript 자체는 문법과 규칙을 정의한 언어, 브라우저와 Node.js에서 언어를 실행하는 환경이다. 브라우저 환경에 DOM, `window` 객체, 쿠키 등 웹 플랫폼 API를 제공, Node.js에서 이러한 객체가 존재하지 않고 대신 파일 시스템과 네트워크, 프로세스 관리 등 OS 수준의 API를 제공한다. 
- **Node.js는 새로운 언어가 아니라 기존 JavaScript를 서버나 데스크톱에서 실행하도록 돕는 플랫폼**이다.

### 1-3. Node.js 핵심 특징

1. V8 엔진 기반: 
   - Node.js는 Chrome V8 엔진으로 JavaScript 코드를 JIT 컴파일해 빠르게 실행한다. V8 엔진은 브라우저에 종속되지 않기에 독립적인 런타임에서 사용할 수 있다.

2. 단일 프로세스, 이벤트 기반:
   - Node.js 프로그램은 기본적으로 하나의 프로세스에 실행되고, 새 요청마다 스레드를 만들지 않는다. 대신 **이벤트 루프**를 통해 비동기 I/O 작업을 처리한다. 

3. 비동기, 논블로킹 I/O:
   - Node.js는 시스템 커널에 작업을 offload하고, 완료되면 콜백을 실행함으로 논블로킹 I/O를 구현한다. 덕분에 수많은 동시 연결을 효율적으로 처리할 수 있다. 

4. libuv와 이벤트 루프:
   - Node.js 이벤트 루프는 C라이브러리인 libuv가 구현한다. libuv는 이벤트 루프와 비동기 I/O를 담당, poll phase가 지나치게 오래 걸리지 않도록 시스템 별 최대 제한을 둔다.

---

## 2. 서버와 런타임: Node.js는 어떻게 사용?

### 2-1. 🌅 서버란?
- 서버는 네트워크를 통해 클라에게 정보나 서비스를 제공하는 프로그램 또는 컴퓨터이다.
- 웹 브라우저, 데스크톱 앱, 다른 서버 등 클라이언트가 요청(request)을 보내면 서버는 응답(response)을 반환한다.
- 브라우저 주소창에 URL을 입력하면 브라우저는 해당 서버에 HTML, 이미지 등을 요청, 서버는 이를 응답으로 전송한다.
- 앱스토어에서 애플리케이션을 다운로드할때도 서버가 클라에게 설치 파일을 제공한다.

### 2-2 Node.js의 서버 역할
- Node.js는 기본적으로 싱글 스레드에 비동기 I/O 모델을 사용, 서버 프로그래밍에 적합하다.
- `http` 모듈을 포함 표준 라이브러리를 통해 HTTP 서버를 손쉽게 만들수 있고, 네트워크, 파일 시스템, 프로세스 제어 등 다양한 모듈을 제공한다.
- 이러한 특성 덕분에 Node.js는 실시간 채팅, 스트리밍, API 서버와 같이 I/O 요청이 많은 애플리케이션에 자주 사용된다.
```JS
const http = require('node:http');

const server = http.createSever((req, res) => {
   res.writeHead(200, { 'Content-Type': 'text/plain'});
   res.end('Hello from Node.js server!');
});

server.listen(3000, () => {
   console.log('Listening on http://localhost:3000');
});
```

### 2-3 Node.js 아키텍처
- Node.js는 여러 구성요소로 이루어져있다.
| 구성 요소 | 역할 |
| :--- | :--- |
| **JavaScript 코드** | 개발자가 작성하는 애플리케이션 로직 |
| **Node.js API** | `fs`, `http`, `path` 등 파일·네트워크 처리 기능 제공 |
| **바인딩(Bindings)** | C++로 작성된 Node.js 내부 모듈과 JavaScript 사이의 연결 역할 |
| **V8 엔진** | JavaScript를 JIT 컴파일해 실행하는 엔진 |
| **libuv** | 이벤트 루프와 스레드 풀을 구현하고 비동기 I/O를 담당 |
| **운영 체제** | 파일 시스템, 네트워크, 프로세스 관리 등 하드웨어 자원 제공 |